{"ast":null,"code":"var _jsxFileName = \"/Users/ryanlanese/Projects/erc20-name-service/src/App.js\";\nimport './App.css';\nimport React, { PureComponent } from 'react';\nimport CryptoBanner from './banner';\n\nclass App extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tokens: [],\n      tokensLoaded: false,\n      domainName: '',\n      domainTld: '',\n      validationError: false\n    };\n    this.apiEndpoint = 'web3api.io/api/v2/';\n    this.apiKey = 'UAK7acefdf714da8dd18a117280de7452f0';\n    this.tokenUrl = 'tokens/rankings?direction=descending&sortType=marketCap&timeInterval=d';\n  }\n\n  componentDidMount() {\n    this.fetchTokenList();\n  }\n\n  fetchTokenList() {\n    let responseData = null;\n\n    const _this = this;\n\n    const xhrReq = new XMLHttpRequest();\n    xhrReq.addEventListener('readystatechange', function () {\n      if (this.readyState === this.DONE) {\n        const dataObj = JSON.parse(this.responseText);\n\n        if (dataObj.status === 200) {\n          _this.fillTokens(dataObj.payload.data);\n        }\n      }\n    });\n    xhrReq.open('GET', \"https://\".concat(this.apiEndpoint).concat(this.tokenUrl));\n    xhrReq.setRequestHeader('x-api-key', this.apiKey);\n    xhrReq.setRequestHeader('x-amberdata-blockchain-id', '1c9c969065fcd1cf');\n    xhrReq.send(responseData);\n  }\n\n  fillTokens(responseList) {\n    const erc20TokenLabels = responseList.filter(item => item.isERC20).map(item => item.symbol.toLowerCase());\n    this.setState({\n      tokensLoaded: true,\n      tokens: erc20TokenLabels,\n      domainTld: erc20TokenLabels[0]\n    });\n  }\n\n  onDomainChange(event) {\n    const domainName = event.target.value;\n    const validationError = !domainName.match(/^[\\x2D0-9A-Z_a-z]+$/);\n    this.setState({\n      domainName,\n      validationError\n    });\n  }\n\n  onTldChange(event) {\n    this.setState({\n      domainTld: event.target.value\n    });\n  }\n\n  renderForm() {\n    const _this$state = this.state,\n          domainName = _this$state.domainName,\n          domainTld = _this$state.domainTld,\n          tokens = _this$state.tokens,\n          validationError = _this$state.validationError;\n    return React.createElement(\"div\", {\n      className: 'form',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Your domain, your tokens. Grab yours today:\"), React.createElement(\"div\", {\n      className: 'input',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      onChange: this.onDomainChange.bind(this),\n      type: 'text',\n      className: 'domain-string',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: 'period',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \".\")), React.createElement(\"select\", {\n      className: 'token-tld',\n      onChange: this.onTldChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, tokens.map((token, i) => {\n      return React.createElement(\"option\", {\n        key: \"option-\".concat(i),\n        value: token,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, token);\n    }))), domainName.length ? React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"preview \".concat(validationError ? 'error' : ''),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\".concat(domainName, \".\").concat(domainTld))), validationError ? React.createElement(\"div\", {\n      className: 'error-text',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Your domain name may only contain alpha-numeric characters, hyphens, and underscores.\")) : null) : null);\n  }\n\n  render() {\n    const tokensLoaded = this.state.tokensLoaded;\n    return React.createElement(\"div\", {\n      className: 'App',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'header',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(CryptoBanner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"ERC-20 Name Service Registrar\")), tokensLoaded ? this.renderForm() : null);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ryanlanese/Projects/erc20-name-service/src/App.js"],"names":["React","PureComponent","CryptoBanner","App","constructor","props","state","tokens","tokensLoaded","domainName","domainTld","validationError","apiEndpoint","apiKey","tokenUrl","componentDidMount","fetchTokenList","responseData","_this","xhrReq","XMLHttpRequest","addEventListener","readyState","DONE","dataObj","JSON","parse","responseText","status","fillTokens","payload","data","open","setRequestHeader","send","responseList","erc20TokenLabels","filter","item","isERC20","map","symbol","toLowerCase","setState","onDomainChange","event","target","value","match","onTldChange","renderForm","bind","token","i","length","render"],"mappings":"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","sourcesContent":["import './App.css'\nimport React, { PureComponent } from 'react'\nimport CryptoBanner from './banner'\n\nclass App extends PureComponent {\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      tokens: [],\n      tokensLoaded: false,\n      domainName: '',\n      domainTld: '',\n      validationError: false\n    }\n    this.apiEndpoint = 'web3api.io/api/v2/'\n    this.apiKey = 'UAK7acefdf714da8dd18a117280de7452f0'\n    this.tokenUrl = 'tokens/rankings?direction=descending&sortType=marketCap&timeInterval=d'\n  }\n\n  componentDidMount () {\n    this.fetchTokenList()\n  }\n\n  fetchTokenList () {\n    let responseData = null\n    const _this = this\n    const xhrReq = new XMLHttpRequest()\n    \n    xhrReq.addEventListener('readystatechange', function () {\n      if (this.readyState === this.DONE) {\n        const dataObj = JSON.parse(this.responseText)\n        if (dataObj.status === 200) {\n          _this.fillTokens(dataObj.payload.data)\n        }\n      }\n    })\n    \n    xhrReq.open('GET', `https://${this.apiEndpoint}${this.tokenUrl}`)\n    xhrReq.setRequestHeader('x-api-key', this.apiKey)\n    xhrReq.setRequestHeader('x-amberdata-blockchain-id', '1c9c969065fcd1cf')\n    xhrReq.send(responseData)\n  }\n\n  fillTokens (responseList) {\n    const erc20TokenLabels = responseList\n      .filter((item) => item.isERC20)\n      .map((item) => item.symbol.toLowerCase())\n\n    this.setState({\n      tokensLoaded: true,\n      tokens: erc20TokenLabels,\n      domainTld: erc20TokenLabels[0]\n    })\n  }\n\n  onDomainChange (event) {\n    const domainName = event.target.value\n    const validationError = !(domainName.match(/^[A-Za-z0-9\\-\\_]+$/s))\n\n    this.setState({\n      domainName,\n      validationError\n    })\n  }\n\n  onTldChange (event) {\n    this.setState({\n      domainTld: event.target.value\n    })\n  } \n\n  renderForm () {\n    const {\n      domainName,\n      domainTld,\n      tokens,\n      validationError\n    } = this.state\n\n    return (\n      <div className={'form'}>\n        <span>Your domain, your tokens. Grab yours today:</span>\n        <div className={'input'}>\n          <input onChange={this.onDomainChange.bind(this)} type={'text'} className={'domain-string'} />\n          <div className={'period'}>\n            <span>.</span>\n          </div>\n          <select className={'token-tld'} onChange={this.onTldChange.bind(this)}>\n            {tokens.map((token, i) => {\n              return (\n                <option key={`option-${i}`} value={token}>\n                  {token}\n                </option>\n              )\n            })}\n          </select>\n        </div>\n        {\n          domainName.length\n          ? <>\n              <div className={`preview ${validationError ? 'error' : ''}`}>\n                <span>{`${domainName}.${domainTld}`}</span>\n              </div>\n              {\n                validationError\n                ? <div className={'error-text'}>\n                    <span>Your domain name may only contain alpha-numeric characters, hyphens, and underscores.</span>\n                  </div>\n                : null\n              }\n            </>\n          : null\n        }\n      </div>\n    )\n  }\n\n  render () {\n    const { tokensLoaded } = this.state\n\n    return (\n      <div className={'App'}>\n        <div className={'header'}>\n          <CryptoBanner />\n          <h1>ERC-20 Name Service Registrar</h1>\n        </div>\n        {\n          tokensLoaded\n          ? this.renderForm()\n          : null\n        }\n      </div>\n    )   \n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}